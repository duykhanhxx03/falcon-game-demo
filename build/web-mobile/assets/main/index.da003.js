window.__require=function e(t,o,i){function n(l,a){if(!o[l]){if(!t[l]){var c=l.split("/");if(c=c[c.length-1],!t[c]){var h="function"==typeof __require&&__require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var r=o[l]={exports:{}};t[l][0].call(r.exports,function(e){return n(t[l][1][e]||e)},r,r.exports,e,t,o,i)}return o[l].exports}for(var s="function"==typeof __require&&__require,l=0;l<i.length;l++)n(i[l]);return n}({Background:[function(e,t){"use strict";cc._RF.push(t,"1e9c5VbOq5IAZXl+e9Ujt5E","Background"),cc.Class({extends:cc.Component,properties:{},onDestroy:function(){this.node.destroy()},update:function(){Math.abs(this.node.y)>this.node.height&&(this.node.y=this.node.height-2),this.node.y-=2}}),cc._RF.pop()},{}],BulletCircle:[function(e,t){"use strict";cc._RF.push(t,"fc6f7Mq4DlBQZZnFsUCT3tu","BulletCircle"),cc.Class({extends:cc.Component,properties:{isDestroy:!0,speed:15,playerComponent:null,hp:0},anim:null,game:null,init:function(){this.speed=15,this.direction=0},onLoad:function(){this.game=cc.find("Canvas").getComponent("GameController").node},start:function(){},startAnim:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("circle")},recycleBullet:function(){this.anim.stop(),this.node.removeFromParent(),this.init(),this.playerComponent.bulletCirclePool.put(this.node)},update:function(e){this.isDestroy&&this.recycleBullet(),this.node.y+=this.speed+this.speed*e,this.node.y>this.game.height/2&&this.recycleBullet()}}),cc._RF.pop()},{}],BulletPlayer:[function(e,t){"use strict";cc._RF.push(t,"6f72eYTi+JJeKhyLT7MX0mX","BulletPlayer"),cc.Class({extends:cc.Component,properties:{isDestroy:!0,direction:0,speed:15,playerComponent:null,hp:0,bulletLevel:0},anim:null,gane:null,init:function(){this.speed=15,this.direction=0,this.hp=5,this.bulletLevel=0},onLoad:function(){this.anim=this.getComponent(cc.Animation),this.game=cc.find("Canvas").getComponent("GameController").node},start:function(){},startAnim:function(){var e=null;switch(this.direction){case 0:this.anim.play("mid1"),e=cc.v2(this.node.x,this.node.y+(this.bulletLevel<=2?100:120));break;case-1:e=cc.v2(this.node.x-6,this.node.y+100);break;case 1:e=cc.v2(this.node.x+6,this.node.y+100);break;case-2:e=cc.v2(this.node.x-10,this.node.y+100);break;case 2:e=cc.v2(this.node.x+10,this.node.y+100);break;case 31:e=cc.v2(this.node.x+12,this.node.y+130);break;case 32:e=cc.v2(this.node.x+24,this.node.y+130);break;case 33:e=cc.v2(this.node.x+36,this.node.y+130);break;case-31:e=cc.v2(this.node.x-12,this.node.y+130);break;case-32:e=cc.v2(this.node.x-24,this.node.y+130);break;case-33:e=cc.v2(this.node.x-36,this.node.y+130)}cc.tween(this.node).to(.08,{position:e},{easing:"linear"}).start()},recycleBullet:function(){this.node.removeFromParent(),this.init(),this.playerComponent.bulletPool.put(this.node)},update:function(e){this.isDestroy&&this.recycleBullet(),this.node.y+=this.speed+this.speed*e,this.node.y>this.game.height/2&&this.recycleBullet()}}),cc._RF.pop()},{}],EnemyController:[function(e,t){"use strict";cc._RF.push(t,"ac1baRyjIxIlLlmRtKZV0iz","EnemyController"),cc.Class({extends:cc.Component,properties:{Bolatoa:cc.Prefab,BoOng_Xanhla:cc.Prefab,BoOng_Xanhduong:cc.Prefab,BoOng_Vang:cc.Prefab,RuoiOng_Xanhla:cc.Prefab,RuoiOng_Do:cc.Prefab,RuoiGiam_Vang:cc.Prefab,BoMuoi_Do:cc.Prefab,BoMuoi_Xanhla:cc.Prefab,BoMuoi_Xanh:cc.Prefab,Boss:cc.Prefab,Item:cc.Prefab,game:cc.Node,BolatoaPool:cc.NodePool,BoOng_XanhlaPool:cc.NodePool,BoOng_XanhduongPool:cc.NodePool,BoOng_VangPool:cc.NodePool,RuoiOng_XanhlaPool:cc.NodePool,RuoiOng_DoPool:cc.NodePool,RuoiGiam_VangPool:cc.NodePool,BoMuoi_DoPool:cc.NodePool,BoMuoi_XanhlaPool:cc.NodePool,BoMuoi_XanhPool:cc.NodePool},stage:0,onLoad:function(){this.BolatoaPool=new cc.NodePool,this.BoMuoi_DoPool=new cc.NodePool,this.BoMuoi_XanhPool=new cc.NodePool,this.BoMuoi_XanhlaPool=new cc.NodePool,this.RuoiOng_DoPool=new cc.NodePool,this.RuoiOng_XanhlaPool=new cc.NodePool,this.RuoiGiam_VangPool=new cc.NodePool,this.BoOng_XanhlaPool=new cc.NodePool,this.BoOng_VangPool=new cc.NodePool,this.BoOng_XanhduongPool=new cc.NodePool,this.enemyInitStageMap=[{prefab:this.BoMuoi_Do,pool:this.BoMuoi_DoPool},{prefab:this.BoMuoi_Xanh,pool:this.BoMuoi_XanhPool},{prefab:this.BoMuoi_Xanhla,pool:this.BoMuoi_XanhlaPool},{prefab:this.RuoiOng_Do,pool:this.RuoiOng_DoPool},{prefab:this.RuoiOng_Xanhla,pool:this.RuoiOng_XanhlaPool},{prefab:this.RuoiGiam_Vang,pool:this.RuoiGiam_VangPool},{prefab:this.BoOng_Xanhla,pool:this.BoOng_XanhlaPool},{prefab:this.BoOng_Vang,pool:this.BoOng_VangPool},{prefab:this.BoOng_Xanhduong,pool:this.BoOng_XanhduongPool}],this.initEnemyPool(),this.createEnemyStage1(),this.node.setPosition(0,0),this.stage=1},enemyInitStageMap:null,initEnemyPool:function(){for(var e=0;e<this.enemyInitStageMap.length;e++)for(var t=0;t<28;t++){var o=cc.instantiate(this.enemyInitStageMap[e].prefab);this.enemyInitStageMap[e].pool.put(o)}},createEnemyStage1:function(){var e=[{prefab:this.BoOng_Vang,pool:this.BoOng_VangPool},{prefab:this.BoOng_XanhLa,pool:this.BoOng_XanhlaPool},{prefab:this.BoOng_Xanhduong,pool:this.BoOng_XanhduongPool}],t=cc.instantiate(this.Bolatoa);t.y=300,this.node.addChild(t);for(var o=1;o<=3;o++)for(var i=0;i<4;i++){var n=null;e[o-1].pool.size()>0?n=e[o-1].pool.get():(n=cc.instantiate(e[o-1].prefab)).getComponent("STDEnemy").pool=this.Explosion1Pool;var s=null;e[o-1].pool.size()>0?s=e[o-1].pool.get():(s=cc.instantiate(e[o-1].prefab)).getComponent("STDEnemy").pool=this.Explosion1Pool,n.y=s.y=this.game.height/2+100,n.x=-i*(40+3*o)-20-5*o,s.x=i*(40+3*o)+20+5*o,n.angle=+(90-7*o),s.angle=-(90-7*o),this.node.addChild(n),this.node.addChild(s),cc.tween(n).to(.4+.15*o,{position:cc.v2(n.x,-(45*o-i*i*3)-40+300)}).start(),cc.tween(s).to(.4+.15*o,{position:cc.v2(s.x,-(45*o-i*i*3)-40+300)}).start()}for(var l=0;l<3;l++){var a=null;this.RuoiOng_XanhlaPool.size()>0?a=this.RuoiOng_XanhlaPool.get():(a=cc.instantiate(this.RuoiOng_Xanhla)).getComponent("STDEnemy").pool=this.Explosion1Pool;var c=null;this.RuoiOng_XanhlaPool.size()>0?c=this.RuoiOng_XanhlaPool.get():(c=cc.instantiate(this.RuoiOng_Xanhla)).getComponent("STDEnemy").pool=this.Explosion1Pool,a.x=-100-30*l,c.x=100+30*l,a.y=c.y=this.game.height/2+100,this.node.addChild(a),this.node.addChild(c),cc.tween(a).to(.5+.1*l,{position:cc.v2(a.x,30*+l+300)}).start(),cc.tween(c).to(.5+.1*l,{position:cc.v2(c.x,30*+l+300)}).start()}for(var h=0;h<4;h++){var r=null;this.RuoiOng_DoPool.size()>0?r=this.RuoiOng_DoPool.get():(r=cc.instantiate(this.RuoiOng_Do)).getComponent("STDEnemy").pool=this.Explosion1Pool;var u=null;this.RuoiOng_DoPool.size()>0?u=this.RuoiOng_DoPool.get():(u=cc.instantiate(this.RuoiOng_Do)).getComponent("STDEnemy").pool=this.Explosion1Pool,r.x=-75-30*h,u.x=75+30*h,r.angle=-45,u.angle=45,r.y=u.y=this.game.height/2+100,this.node.addChild(r),this.node.addChild(u),cc.tween(r).to(.3+.1*h,{position:cc.v2(r.x,350+30*+h)}).start(),cc.tween(u).to(.3+.1*h,{position:cc.v2(u.x,350+30*+h)}).start()}for(var d=this.node.children.length,p=0;p<3;p++){var g=this.node.children[this.getRandomNumber(d)].getComponent("STDEnemy");g.isItemCont=!0,g.type=this.getRandomNumber(4)+1}var m=this.node.children[this.getRandomNumber(d)].getComponent("STDEnemy");m.isItemCont=!0,m.type=5},getRandomNumber:function(e){return Math.floor(Math.random()*e)},createEnemyStage2:function(){var e=this.game.height/2+100;this.node.setPosition(0,0);for(var t=0;t<this.enemyInitStageMap.length-3;t++)for(var o=0;o<4;o++){var i=null;this.enemyInitStageMap[t].pool.size()>0?i=this.enemyInitStageMap[t].pool.get():(i=cc.instantiate(this.enemyInitStageMap[t].prefab)).getComponent("STDEnemy").pool=this.Explosion1Pool,i.x=0,i.y=40*o+160*t+e,this.node.addChild(i);for(var n=0;n<3;n++){var s=null;this.enemyInitStageMap[t].pool.size()>0?s=this.enemyInitStageMap[t].pool.get():(s=cc.instantiate(this.enemyInitStageMap[t].prefab)).getComponent("STDEnemy").pool=this.Explosion1Pool;var l=null;this.enemyInitStageMap[t].pool.size()>0?l=this.enemyInitStageMap[t].pool.get():(l=cc.instantiate(this.enemyInitStageMap[t].prefab),s.getComponent("STDEnemy").pool=this.Explosion1Pool),s.x=-55*(n+1),l.x=55*(n+1),s.y=l.y=40*o+160*t+e,this.node.addChild(s),this.node.addChild(l)}}for(var a=1;a<=2;a++){var c=null;this.BolatoaPool.size()>0?c=this.BolatoaPool.get():(c=cc.instantiate(this.Bolatoa)).getComponent("STDEnemy").pool=this.Explosion1Pool;var h=null;this.BolatoaPool.size()>0?h=this.BolatoaPool.get():(h=cc.instantiate(this.Bolatoa)).getComponent("STDEnemy").pool=this.Explosion1Pool,c.x=55*-a+(1==a?0:-55),h.x=55*a+(1==a?0:55),c.y=h.y=160*(this.enemyInitStageMap.length-3)+10+e,this.node.addChild(c),this.node.addChild(h)}var r=null;this.BolatoaPool.size()>0?r=this.BolatoaPool.get():(r=cc.instantiate(this.Bolatoa)).getComponent("STDEnemy").pool=this.Explosion1Pool;var u=null;this.BolatoaPool.size()>0?u=this.BolatoaPool.get():(u=cc.instantiate(this.Bolatoa)).getComponent("STDEnemy").pool=this.Explosion1Pool;var d=null;this.BolatoaPool.size()>0?d=this.BolatoaPool.get():(d=cc.instantiate(this.Bolatoa)).getComponent("STDEnemy").pool=this.Explosion1Pool,r.x=-110,u.x=0,d.x=110,r.y=u.y=d.y=160*(this.enemyInitStageMap.length-3)+100+e,this.node.addChild(r),this.node.addChild(u),this.node.addChild(d)},createEnemyStage3:function(){this.game.getComponent("GameController").disableTouch();var e=this.game.getComponent("GameController").player;cc.tween(e).to(1,{position:cc.v2(0,-this.game.height/3+50)},{easing:"cubicInOut"}).start();var t=cc.instantiate(this.Boss),o=t.getComponent(sp.Skeleton);this.node.addChild(t);var i=this.game.height/2-t.height*t.scale/2-150,n=cc.v2(0,i-200);this.node.setPosition(0,0),t.y=i+300,cc.tween(t).to(1,{position:cc.v2(0,i)},{easing:"cubicInOut"}).start(),cc.tween(t).repeatForever(cc.tween().to(1,{position:n},{easing:"cubicInOut"}).call(function(){o.setAnimation(0,"Attack 1_offset",!1)}).to(1.5,{position:n}).to(1,{position:cc.v2(0,i)},{easing:"cubicOut"}).call(function(){o.setAnimation(0,"idle_offset",!1)}).to(1.5,{position:cc.v2(0,i)}).to(1,{position:n},{easing:"cubicInOut"}).call(function(){o.setAnimation(0,"Attack 2_offset",!1)}).to(1.5,{position:n}).to(1,{position:cc.v2(0,i)},{easing:"cubicOut"}).call(function(){o.setAnimation(0,"idle_offset",!1)}).to(1.5,{position:cc.v2(0,i)})).start()},createItem:function(e,t,o){var i=cc.instantiate(this.Item);i.getComponent("Item").type=o,i.setPosition(e,t),this.node.addChild(i)},start:function(){},update:function(){if(1===this.stage&&0===this.node.children.length&&(this.stage=2,this.createEnemyStage2()),2===this.stage)if(0!==this.node.children.length)for(var e=0;e<this.node.children.length;e++)this.node.children[e].y-=2,this.node.children[e].y<-this.game.height/2&&this.node.children[e].destroy();else this.stage=3,this.createEnemyStage3()}}),cc._RF.pop()},{}],GameController:[function(e,t){"use strict";cc._RF.push(t,"6e8c620Pm9BCo9wYBPFzLM/","GameController"),cc.Class({extends:cc.Component,properties:{backgroundPrefab:{default:null,type:cc.Prefab},player:{default:null,type:cc.Node},nhaydo:cc.Prefab,isMouseTouch:!1},onLoad:function(){this.isMouseTouch=!1,this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.setMouseTouchEnd,this),this.player.y=-this.node.height/2-50,cc.tween(this.player).to(1,{position:cc.v2(0,-this.node.height/2+100)},{easing:"cubicInOut"}).start(),this.addNewBGParallax(-440,640),this.addNewBGParallax(440,640),this.addNewBGParallax(-440,-640),this.addNewBGParallax(440,-640)},onTouchMove:function(e){this.isMouseTouch=!0;var t=cc.v2(e.getLocation().x-this.node.width/2,e.getLocation().y-this.node.height/2);this.player.setPosition(t),this.player.getComponent("Player").fire()},setMouseTouchEnd:function(){this.isMouseTouch=!1},disableTouch:function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMouseMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.setMouseTouchEnd,this),this.player.getComponent("Player").unscheduleAllCallbacks()},onDestroy:function(){this.disableTouch()},warning:function(){var e=cc.instantiate(this.nhaydo);this.node.addChild(e),e.setPosition(0,0);var t=cc.view.getVisibleSize().height,o=cc.view.getVisibleSize().width;e.width=o,e.height=t},addNewBGParallax:function(e,t){var o=cc.instantiate(this.backgroundPrefab);this.node.insertChild(o,0),o.setPosition(e,t),o.getComponent("Background").game=this},start:function(){},update:function(){}}),cc._RF.pop()},{}],Item:[function(e,t){"use strict";cc._RF.push(t,"5ad0dI8oV1JRYyYGXx1xIjn","Item"),cc.Class({extends:cc.Component,properties:{Item1:cc.Prefab,Item2:cc.Prefab,Item3:cc.Prefab,Item4:cc.Prefab,Ttem_upgrade_player:cc.Prefab,type:0,ItemBullet:cc.Prefab,audio:{default:null,type:cc.AudioClip}},anim:null,game:null,getRandomNumber:function(e){return Math.floor(Math.random()*(2*e+1))-e},onLoad:function(){if(cc.tween(this.node).to(.15,{position:cc.v2(this.node.x+this.getRandomNumber(40),this.node.y+this.getRandomNumber(40))},{easing:"cubicOut"}).start(),this.game=cc.find("Canvas").getComponent("GameController"),this.anim=this.getComponent(cc.Animation),cc.director.getCollisionManager().enabled=!0,this.type>=1&&this.type<=4){var e=cc.instantiate(this.ItemBullet);e.setPosition(0,0),this.node.addChild(e)}if(5==this.type){var t=cc.instantiate(this.Ttem_upgrade_player);t.setPosition(0,0),this.node.addChild(t)}switch(this.type){case 1:var o=cc.instantiate(this.Item1);o.setPosition(0,0),this.node.addChild(o);break;case 2:var i=cc.instantiate(this.Item2);i.setPosition(0,0),this.node.addChild(i);break;case 3:var n=cc.instantiate(this.Item3);n.setPosition(0,0),this.node.addChild(n);break;case 4:var s=cc.instantiate(this.Item4);s.setPosition(0,0),this.node.addChild(s)}},onCollisionStay:function(e){var t=e.node.position,o=this.node.position.sub(t).mag(),i=e.getComponent("Player");if(o>30)this.game.isMouseTouch&&(this.node.x>t.x?this.node.x-=6:this.node.x<t.x&&(this.node.x+=6),this.node.y>t.y?this.node.y-=6:this.node.y<t.y&&(this.node.y+=6));else{if(++i.itemCount,5==this.type)i.upgradePlayer();else switch(i.itemCount){case 1:break;case 2:i.upgradeBulletLevel();break;case 3:i.upgradeFireSpeed()}this.node.destroy()}},start:function(){},onDestroy:function(){cc.audioEngine.playEffect(this.audio,!1)},update:function(){this.game.isMouseTouch&&(this.node.y-=2),this.node.y<-640&&this.node.destroy()}}),cc._RF.pop()},{}],Player:[function(e,t){"use strict";cc._RF.push(t,"374dcT7ghtCgK+fdui6VyR4","Player"),cc.Class({extends:cc.Component,properties:{level:0,bulletPrefab:cc.Prefab,bulletCirclePrefab:cc.Prefab,bulletLevel:0,itemCount:0,bulletSound:cc.AudioClip,game:cc.Node,bulletPool:cc.NodePool,bulletCirclePool:cc.NodePool},deathTouchRemain:0,isFire:!1,currentFireSpeedIndex:0,fireSpeed:null,anim:null,onLoad:function(){this.bulletPool=new cc.NodePool,this.initBulletPool(),this.bulletCirclePool=new cc.NodePool,this.initBulletCirclePool(),this.fireSpeed={1:.16,2:.14},this.itemCount=0,this.isFire=!1,this.currentFireSpeedIndex=1,this.level=1,this.isFire=!1,this.anim=this.getComponent(cc.Animation),this.anim.play("player_lv1")},initBulletPool:function(){for(var e=0;e<200;++e){var t=cc.instantiate(this.bulletPrefab);this.bulletPool.put(t)}},initBulletCirclePool:function(){for(var e=0;e<100;++e){var t=cc.instantiate(this.bulletCirclePrefab);this.bulletCirclePool.put(t)}},warning:function(){this.game.getComponent("GameController").warning()},start:function(){},upgradeBulletLevel:function(){this.bulletLevel<2&&(this.bulletLevel++,this.unscheduleAllCallbacks(),this.isFire=!1,this.fire())},upgradeFireSpeed:function(){this.currentFireSpeedIndex<2&&(this.currentFireSpeedIndex++,this.unscheduleAllCallbacks(),this.isFire=!1,this.fire())},upgradePlayer:function(){this.anim.play("player_lv2_bounce_in"),this.level=2,this.bulletLevel=3,this.unscheduleAllCallbacks(),this.isFire=!1,this.fire()},fire:function(){var e=this.game.getComponent("GameController"),t=[-15,-15,15,15],o=[-1,1,-1,1],i=[-16,-16,-16,16,16,16],n=[-2,0,2,-2,0,2],s=[0,0,0,0,0,0,0],l=[-33,-32,-31,0,31,32,33];switch(cc.audioEngine.setEffectsVolume(.5),this.bulletLevel){case 1:e.isMouseTouch&&!this.isFire&&(this.schedule(function i(){cc.audioEngine.playEffect(this.bulletSound,!1),this.isFire&&!e.isMouseTouch&&(this.isFire=!1,console.log("unschedule"),this.unschedule(i));for(var n=0;n<4;n++){var s=null;this.bulletPool.size()>0?s=this.bulletPool.get():(s=cc.instantiate(this.bulletPrefab),console.log("new bullet")),s.scaleX=.8,s.scaleY=1,s.getComponent("BulletPlayer").isDestroy=!1,s.getComponent("BulletPlayer").direction=o[n],s.getComponent("BulletPlayer").playerComponent=this,s.getComponent("BulletPlayer").hp=5,s.setPosition(this.node.position.x+t[n],this.node.position.y+60),this.node.parent.addChild(s),s.getComponent("BulletPlayer").startAnim()}},this.fireSpeed[this.currentFireSpeedIndex]),this.isFire=!0);break;case 2:e.isMouseTouch&&!this.isFire&&(this.schedule(function t(){cc.audioEngine.playEffect(this.bulletSound,!1),this.isFire&&!e.isMouseTouch&&(this.isFire=!1,console.log("unschedule"),this.unschedule(t));for(var o=0;o<6;o++){var s=null;this.bulletPool.size()>0?s=this.bulletPool.get():(s=cc.instantiate(this.bulletPrefab),console.log("new bullet")),s.getComponent("BulletPlayer").isDestroy=!1,s.getComponent("BulletPlayer").direction=n[o],s.getComponent("BulletPlayer").playerComponent=this,s.getComponent("BulletPlayer").hp=15,s.getComponent("BulletPlayer").bulletLevel=2,s.scaleX=.8,s.scaleY=1,s.setPosition(this.node.position.x+i[o],this.node.position.y+60),this.node.parent.addChild(s),s.getComponent("BulletPlayer").startAnim()}},this.fireSpeed[this.currentFireSpeedIndex]),this.isFire=!0);break;case 3:e.isMouseTouch&&!this.isFire&&(this.schedule(function t(){cc.audioEngine.playEffect(this.bulletSound,!1),this.isFire&&!e.isMouseTouch&&(this.isFire=!1,console.log("unschedule"),this.unschedule(t));for(var o=0;o<7;o++){var i=null;this.bulletPool.size()>0?i=this.bulletPool.get():(i=cc.instantiate(this.bulletPrefab),console.log("new bullet")),i.getComponent("BulletPlayer").isDestroy=!1,i.getComponent("BulletPlayer").direction=l[o],i.getComponent("BulletPlayer").playerComponent=this,i.getComponent("BulletPlayer").hp=30,i.scaleX=.8,i.scaleY=1,i.setPosition(this.node.position.x+s[o],this.node.position.y+60),this.node.parent.addChild(i),i.getComponent("BulletPlayer").startAnim()}var n=null;(n=this.bulletCirclePool.size()>0?this.bulletCirclePool.get():cc.instantiate(this.bulletCirclePrefab)).scaleX=.3,n.scaleY=.3,n.getComponent("BulletCircle").isDestroy=!1,n.setPosition(this.node.position.x-20,this.node.position.y+60),n.getComponent("BulletCircle").startAnim(),n.getComponent("BulletCircle").playerComponent=this,n.getComponent("BulletCircle").hp=30,this.node.parent.addChild(n),n=null,this.bulletCirclePool.size()>0?n=this.bulletCirclePool.get():(n=cc.instantiate(this.bulletCirclePrefab),console.log("new bullet")),n.scaleX=.3,n.scaleY=.3,n.getComponent("BulletCircle").isDestroy=!1,n.setPosition(this.node.position.x+20,this.node.position.y+60),n.getComponent("BulletCircle").playerComponent=this,n.getComponent("BulletCircle").hp=35,n.getComponent("BulletCircle").startAnim(),this.node.parent.addChild(n)},this.fireSpeed[this.currentFireSpeedIndex]),this.isFire=!0)}},update:function(){switch(this.level){case 1:break;case 2:this.anim.getAnimationState("player_lv2_bounce_in").isPlaying||this.anim.getAnimationState("player_lv2").isPlaying||this.anim.play("player_lv2")}}}),cc._RF.pop()},{}],STDEnemy:[function(e,t){"use strict";cc._RF.push(t,"3e62cpmdj5KeLvTnWCgnMCS","STDEnemy"),cc.Class({extends:cc.Component,properties:{hp:0,explosion1:cc.Prefab,randomRange:0,isItemCont:!1,basedYCordinate:0,type:0,audio:{default:null,type:cc.AudioClip}},anim:null,isDead:!1,player:null,currentHp:0,onLoad:function(){this.currentHp=this.hp;var e=cc.find("Canvas").getComponent("GameController");this.player=e.player.getComponent("Player"),this.isDead=!1,this.anim=this.getComponent(cc.Animation),cc.director.getCollisionManager().enabled=!0,this.anim.getAnimationState("explosion2").wrapMode=cc.WrapMode.Normal;var t=this.node;this.anim.on("finished",function(){t.removeFromParent()})},getRandomNumber:function(){return Math.floor(Math.random()*(this.randomRange+1))-this.randomRange/2},onCollisionEnter:function(e){cc.audioEngine.playEffect(this.audio,!1);var t=t=cc.instantiate(this.explosion1);switch(t.setPosition(this.getRandomNumber(),this.getRandomNumber()),this.node.addChild(t),e.node.name){case"Player":this.currentHp=0,e.node.getComponent("Player").warning();break;case"BulletPlayer":var o=e.node.getComponent("BulletPlayer");this.currentHp-=o.hp,o.hp-=this.hp,o.hp<=0&&o.recycleBullet();break;case"BulletCircle":var i=e.node.getComponent("BulletCircle");this.currentHp-=i.hp,i.hp-=this.hp,i.hp<=0&&i.recycleBullet()}var n=this.anim.getAnimationState("explosion2");this.currentHp<=0&&!n.isPlaying&&!this.isDead&&(this.anim.play("explosion2"),this.isItemCont&&this.node.parent.getComponent("EnemyController").createItem(this.node.x,this.node.y,this.type))},onCollisionStay:function(){},onCollisionExit:function(){},onDestroy:function(){},start:function(){},update:function(){}}),cc._RF.pop()},{}]},{},["EnemyController","GameController","Background","BulletCircle","BulletPlayer","Item","Player","STDEnemy"]);